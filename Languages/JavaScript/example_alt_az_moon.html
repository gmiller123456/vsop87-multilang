<html>
<head></head>
<body>
<h1>This example is still under development</h1>
Simple example to compute the geocentric position of the moon.  Note the reduction algorithm
used is not rigorous, it ignores several factors, like annual abberation, which will result in
a error of many arc seconds.  This example requires vsop87a_full.js.<br><br>
Result:
<pre id="output"></pre>


Values from JPL Horizons<br>
<pre>
 Date__(UT)__HR:MN     R.A._(ICRF/J2000.0)_DEC R.A.__(a-apparent)__DEC Azi_(a-appr)_Elev L_Ap_Sid_Time   1-way_LT
*****************************************************************************************************************
$$SOE
 2000-Jan-01 12:00 Nm  14 51 12.35 -11 34 39.9 14 51 10.74 -11 34 29.8 146.3255  33.6752 12 58 46.7852   0.022173
 2000-Jan-01 12:00 Nm  222.80147   -11.57774   222.79477   -11.57495   146.3255  33.6752 12.9796625661   0.022173
</pre>



<script src="vsop87a_full.js"></script>
<script src="example_lib.js"></script>
<script>

testPosition((new Date(Date.UTC(2000,0,1,12,0,0,0))));


function display(s){
	const o=document.getElementById("output");
	o.innerHTML=o.innerHTML+s;
}


function displayRADec(b){
	let temp=b[2];
	if(temp<0) temp+=2*Math.PI;
	const ra=(temp * 180 / Math.PI);
	const dec=(b[1] * 180 / Math.PI);
	display("RA:"+ra + "\r\n");
	display("DEC:"+dec + "\r\n");
}

function testPosition(date){
	//All angles need to be in radians!!!!!
	const lon=274.236400*Math.PI/180;
	const lat=38.2464000*Math.PI/180;

	const jd=astrolib.convertDateToJulianDate(date);
	const moonRaDec=astrolib.getBodyRaDec(jd,10,lat,lon);
	
	displayRADec(moonRaDec);

	display("RA :"+astrolib.toHmsString(moonRaDec[2]));
	display("DEC:"+astrolib.toDmsString(moonRaDec[1]));
	
	//Convert to Alt Az using the topocentric RA and Dec coordinates
	moonAltAz=astrolib.convertRaDecToAltAz(jd,lat,lon,moonRaDec[2],moonRaDec[1]);
	display("Alt: "+(moonAltAz[1] * 180 / Math.PI)+"\r\n");
	display("AZ : "+(moonAltAz[0] * 180 / Math.PI)+"\r\n");
}




</script></body></html>