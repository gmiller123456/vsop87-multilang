<html>
<body>
<script src="vsop87a_full.js"></script>
<script>

	var failed=false;
    function checVal( x, y)
    {
        var e = Math.abs((x-y));
        var accuracy = 1.0e-10;
        if (e > accuracy)
        {
            if (Math.abs(mod2Pi(x) - y)<accuracy)
            {
                return;
            }
            console.log("FAIL!!! " + x + "-" + y + "=" + e);
			failed=true;
        }

    }

    function mod2Pi( x)
    {
        var t = x % (2 * Math.PI);
        if (t < 0) t += 2 * Math.PI;
        return t;
    }

    function check(t,  x,  y,  z,  xd,  yd,  zd)
    {
        if (t.Length > 3)
        {
            checVal(t[0], x);
            checVal(t[1], xd);
            checVal(t[2], y);
            checVal(t[3], yd);
            checVal(t[4], z);
            checVal(t[5], zd);
        }
        else
        {
            checVal(t[0], x);
            checVal(t[1], y);
            checVal(t[2], z);
        }
    }

    function jd2et( jd)
    {
        return (jd - 2451545.0) / 365250.0;

    }

t=vsop87a_full.getMercury(jd2et(2451545.0));
check(t,-.1300934115,-.4472876716,-.0245983802,.0213663982,-.0064479797,-.0024878668);
t=vsop87a_full.getMercury(jd2et(2415020.0));
check(t,-.3897246931,-.1502242199,.0236199373,.0043015312,-.0250162370,-.0024362082);
t=vsop87a_full.getMercury(jd2et(2378495.0));
check(t,-.1683565237,.2735108157,.0378103630,-.0296164267,-.0136328471,.0016235345);
t=vsop87a_full.getMercury(jd2et(2341970.0));
check(t,.3256720360,.0880865802,-.0229819912,-.0127788749,.0284637828,.0034966931);
t=vsop87a_full.getMercury(jd2et(2305445.0));
check(t,.2314047967,-.3620120986,-.0508588210,.0181039063,.0166013006,-.0003328657);
t=vsop87a_full.getMercury(jd2et(2268920.0));
check(t,-.1495554398,-.4409710104,-.0218126659,.0210099985,-.0075593798,-.0025679127);
t=vsop87a_full.getMercury(jd2et(2232395.0));
check(t,-.3938651887,-.1288399755,.0263344445,.0029400171,-.0254312305,-.0023316888);
t=vsop87a_full.getMercury(jd2et(2195870.0));
check(t,-.1454241100,.2837569447,.0365258870,-.0306592806,-.0116579881,.0019275574);
t=vsop87a_full.getMercury(jd2et(2159345.0));
check(t,.3340760581,.0655125084,-.0260662236,-.0108143253,.0289950806,.0033526267);
t=vsop87a_full.getMercury(jd2et(2122820.0));
check(t,.2146329139,-.3752296250,-.0503982597,.0188319750,.0155086039,-.0005235332);
t=vsop87a_full.getVenus(jd2et(2451545.0));
check(t,-.7183022797,-.0326546017,.0410142975,.0007981261,-.0202952188,-.0003234551);
t=vsop87a_full.getVenus(jd2et(2415020.0));
check(t,.6971428331,-.2033631151,-.0430201136,.0055571243,.0193274810,-.0000624495);
t=vsop87a_full.getVenus(jd2et(2378495.0));
check(t,-.5983535208,.3958502156,.0398238141,-.0112413949,-.0169702547,.0004280845);
t=vsop87a_full.getVenus(jd2et(2341970.0));
check(t,.4531193265,-.5692420969,-.0335643217,.0156872675,.0125228078,-.0007484190);
t=vsop87a_full.getVenus(jd2et(2305445.0));
check(t,-.2501974249,.6732855399,.0229714783,-.0190302360,-.0071603114,.0010143477);
t=vsop87a_full.getVenus(jd2et(2268920.0));
check(t,.0428334458,-.7259844930,-.0114025161,.0200506149,.0011129594,-.0011511546);
t=vsop87a_full.getVenus(jd2et(2232395.0));
check(t,.1935421816,.6940567996,-.0029302736,-.0195543579,.0053335070,.0012012993);
t=vsop87a_full.getVenus(jd2et(2195870.0));
check(t,-.3830059585,-.6150875570,.0150920021,.0170236979,-.0107910180,-.0011177421);
t=vsop87a_full.getVenus(jd2et(2159345.0));
check(t,.5643550617,.4519394442,-.0277243709,-.0127110367,.0156983529,.0009205180);
t=vsop87a_full.getVenus(jd2et(2122820.0));
check(t,-.6660158465,-.2753592311,.0357874175,.0075852982,-.0187913517,-.0006523229);
t=vsop87a_full.getEarth(jd2et(2451545.0));
check(t,-.1771354586,.9672416237,-.0000039000,-.0172076240,-.0031587881,.0000001069);
t=vsop87a_full.getEarth(jd2et(2415020.0));
check(t,-.1883079649,.9650688844,.0002150325,-.0171750350,-.0033577553,-.0000017927);
t=vsop87a_full.getEarth(jd2et(2378495.0));
check(t,-.1993918002,.9627974368,.0004307602,-.0171333880,-.0035564817,-.0000024864);
t=vsop87a_full.getEarth(jd2et(2341970.0));
check(t,-.2104654652,.9603579954,.0006472929,-.0170875581,-.0037496415,-.0000029043);
t=vsop87a_full.getEarth(jd2et(2305445.0));
check(t,-.2214982928,.9578483181,.0008568250,-.0170390656,-.0039367743,-.0000043201);
t=vsop87a_full.getEarth(jd2et(2268920.0));
check(t,-.2324780153,.9551975793,.0010692878,-.0169957375,-.0041224472,-.0000065063);
t=vsop87a_full.getEarth(jd2et(2232395.0));
check(t,-.2435134343,.9524373311,.0012871020,-.0169547778,-.0043098863,-.0000079170);
t=vsop87a_full.getEarth(jd2et(2195870.0));
check(t,-.2544603371,.9495904257,.0014962103,-.0169105576,-.0045033760,-.0000085451);
t=vsop87a_full.getEarth(jd2et(2159345.0));
check(t,-.2654547156,.9465233602,.0017037737,-.0168617248,-.0047002320,-.0000096503);
t=vsop87a_full.getEarth(jd2et(2122820.0));
check(t,-.2763146784,.9433985307,.0019115387,-.0168030101,-.0048929320,-.0000120286);
t=vsop87a_full.getMars(jd2et(2451545.0));
check(t,1.3907159264,-.0134157043,-.0344677967,.0006714930,.0151872479,.0003016546);
t=vsop87a_full.getMars(jd2et(2415020.0));
check(t,.4284332474,-1.3552354250,-.0389650205,.0138801988,.0054130399,-.0002309583);
t=vsop87a_full.getMars(jd2et(2378495.0));
check(t,-1.1119219621,-1.0963263014,.0049208507,.0103704749,-.0087780941,-.0004426071);
t=vsop87a_full.getMars(jd2et(2341970.0));
check(t,-1.6387489524,.2507105242,.0465605913,-.0015671783,-.0126541771,-.0002241566);
t=vsop87a_full.getMars(jd2et(2305445.0));
check(t,-.8307668241,1.4098595097,.0504536061,-.0114897947,-.0059367600,.0001687758);
t=vsop87a_full.getMars(jd2et(2268920.0));
check(t,.6495258850,1.3657302245,.0116922368,-.0120605583,.0071721497,.0004582311);
t=vsop87a_full.getMars(jd2et(2232395.0));
check(t,1.3910394546,-.0543839267,-.0371012758,.0011356685,.0151460297,.0002843980);
t=vsop87a_full.getMars(jd2et(2195870.0));
check(t,.3890073909,-1.3660431023,-.0383808949,.0140460805,.0049943632,-.0002629975);
t=vsop87a_full.getMars(jd2et(2159345.0));
check(t,-1.1440917096,-1.0595533316,.0082180884,.0101018861,-.0091144253,-.0004535007);
t=vsop87a_full.getMars(jd2et(2122820.0));
check(t,-1.6278485157,.3060194814,.0494215740,-.0019834234,-.0126075128,-.0002068580);
t=vsop87a_full.getJupiter(jd2et(2451545.0));
check(t,4.0011740268,2.9385810077,-.1017837501,-.0045683226,.0064432013,.0000755806);
t=vsop87a_full.getJupiter(jd2et(2415020.0));
check(t,-3.0191224350,-4.4582563705,.0858641900,.0061654107,-.0038794162,-.0001225479);
t=vsop87a_full.getJupiter(jd2et(2378495.0));
check(t,-.0180390004,5.1317748839,-.0200448490,-.0076399285,.0003252123,.0001704041);
t=vsop87a_full.getJupiter(jd2et(2341970.0));
check(t,1.2817318353,-5.0280079874,-.0091251590,.0072282646,.0022248808,-.0001714897);
t=vsop87a_full.getJupiter(jd2et(2305445.0));
check(t,-4.0547959775,3.4799857072,.0779960099,-.0049960788,-.0053790157,.0001335404);
t=vsop87a_full.getJupiter(jd2et(2268920.0));
check(t,4.5891471727,-1.9870837931,-.0961092251,.0029188005,.0072778147,-.0000938139);
t=vsop87a_full.getJupiter(jd2et(2232395.0));
check(t,-5.4239396005,-.5085487291,.1247760378,.0006253169,-.0071679090,.0000128885);
t=vsop87a_full.getJupiter(jd2et(2195870.0));
check(t,4.2423286340,2.5898433579,-.1060307357,-.0040094322,.0067927337,.0000658361);
t=vsop87a_full.getJupiter(jd2et(2159345.0));
check(t,-3.3554806095,-4.2166702224,.0919417675,.0058249459,-.0043631774,-.0001167192);
t=vsop87a_full.getJupiter(jd2et(2122820.0));
check(t,.4207861894,5.1019591310,-.0280087663,-.0076034843,.0009707381,.0001701694);
t=vsop87a_full.getSaturn(jd2et(2451545.0));
check(t,6.4064068573,6.5699929449,-.3690768029,-.0042923542,.0038903162,.0001029504);
t=vsop87a_full.getSaturn(jd2et(2415020.0));
check(t,-.3695973750,-10.0582398188,.1916854382,.0052738585,-.0002291588,-.0002050308);
t=vsop87a_full.getSaturn(jd2et(2378495.0));
check(t,-5.6790910870,7.1152478120,.0978521367,-.0046764804,-.0034942859,.0002471059);
t=vsop87a_full.getSaturn(jd2et(2341970.0));
check(t,8.9934758992,-3.7883225437,-.2866389234,.0018541530,.0051256055,-.0001651089);
t=vsop87a_full.getSaturn(jd2et(2305445.0));
check(t,-8.6570276346,-4.4809792498,.4216252073,.0022396666,-.0049735292,.0000018167);
t=vsop87a_full.getSaturn(jd2et(2268920.0));
check(t,5.0378574919,7.5310625790,-.3348880611,-.0049629587,.0031146091,.0001380841);
t=vsop87a_full.getSaturn(jd2et(2232395.0));
check(t,1.2601620699,-10.0267935693,.1347052714,.0052042624,.0006915354,-.0002162713);
t=vsop87a_full.getSaturn(jd2et(2195870.0));
check(t,-7.1628125747,5.7482646991,.1724961738,-.0038169951,-.0043374842,.0002288409);
t=vsop87a_full.getSaturn(jd2et(2159345.0));
check(t,9.3511669242,-2.1145906249,-.3231241535,.0009101880,.0054613781,-.0001370191);
t=vsop87a_full.getSaturn(jd2et(2122820.0));
check(t,-7.9395559173,-5.8435867016,.4165601597,.0029826848,-.0044772655,-.0000311309);
t=vsop87a_full.getUranus(jd2et(2451545.0));
check(t,14.4318934159,-13.7343162527,-.2381421963,.0026781013,.0026726895,-.0000247716);
t=vsop87a_full.getUranus(jd2et(2415020.0));
check(t,-6.4810833337,-17.8526893406,.0177935238,.0036741895,-.0015288510,-.0000535160);
t=vsop87a_full.getUranus(jd2et(2378495.0));
check(t,-18.2708335178,.9877655715,.2420344280,-.0002520508,-.0041106574,-.0000120997);
t=vsop87a_full.getUranus(jd2et(2341970.0));
check(t,-4.2214391936,18.3160266384,.1247592568,-.0038580474,-.0010609793,.0000461966);
t=vsop87a_full.getUranus(jd2et(2305445.0));
check(t,16.1020987626,11.4900726864,-.1664618891,-.0023194591,.0030182757,.0000419636);
t=vsop87a_full.getUranus(jd2et(2268920.0));
check(t,17.7683247787,-9.2421595876,-.2680482375,.0017862137,.0033198557,-.0000107051);
t=vsop87a_full.getUranus(jd2et(2232395.0));
check(t,-.7868164612,-19.2532559478,-.0636424080,.0039014103,-.0003432106,-.0000524990);
t=vsop87a_full.getUranus(jd2et(2195870.0));
check(t,-17.6539243375,-5.1636568776,.2124669126,.0010691727,-.0039473457,-.0000293730);
t=vsop87a_full.getUranus(jd2et(2159345.0));
check(t,-9.8287104597,15.7711888605,.1914817351,-.0033636294,-.0022592009,.0000354511);
t=vsop87a_full.getUranus(jd2et(2122820.0));
check(t,11.8546461039,15.5595370553,-.0950189343,-.0031646232,.0022092867,.0000505971);
t=vsop87a_full.getNeptune(jd2et(2451545.0));
check(t,16.8121116576,-24.9916630908,.1272190171,.0025792564,.0017769299,-.0000959082);
t=vsop87a_full.getNeptune(jd2et(2415020.0));
check(t,1.5164557467,29.8254538901,-.6491400216,-.0031458508,.0001762858,.0000687542);
t=vsop87a_full.getNeptune(jd2et(2378495.0));
check(t,-20.3138943578,-22.4908255796,.9309151535,.0023019288,-.0020865916,-.0000100297);
t=vsop87a_full.getNeptune(jd2et(2341970.0));
check(t,29.5022811950,4.5987701114,-.7740507255,-.0004973022,.0031231521,-.0000528186);
t=vsop87a_full.getNeptune(jd2et(2305445.0));
check(t,-26.5823264272,14.1935610229,.3196842255,-.0015010463,-.0027571601,.0000912083);
t=vsop87a_full.getNeptune(jd2et(2268920.0));
check(t,11.1160686193,-28.0548309589,.3216732257,.0028999185,.0011806446,-.0000908933);
t=vsop87a_full.getNeptune(jd2et(2232395.0));
check(t,8.0214324006,28.7234916080,-.7759058527,-.0030404909,.0008570806,.0000521574);
t=vsop87a_full.getNeptune(jd2et(2195870.0));
check(t,-24.6234347578,-17.6514428046,.9297244003,.0018045758,-.0025286219,.0000106837);
t=vsop87a_full.getNeptune(jd2et(2159345.0));
check(t,29.8303563036,-2.0338910503,-.6441246887,.0001972918,.0031466250,-.0000693959);
t=vsop87a_full.getNeptune(jd2et(2122820.0));
check(t,-22.7985170870,19.5994768858,.1206374034,-.0020722808,-.0023628830,.0000962862);
t=vsop87a_full.getEmb(jd2et(2451545.0));
check(t,-.1771591440,.9672192891,-.0000009536,-.0172031075,-.0031639188,.0000000258);
t=vsop87a_full.getEmb(jd2et(2415020.0));
check(t,-.1883097013,.9650388428,.0002152687,-.0171675938,-.0033578159,-.0000011144);
t=vsop87a_full.getEmb(jd2et(2378495.0));
check(t,-.1993643284,.9627828195,.0004282504,-.0171295937,-.0035503981,-.0000022560);
t=vsop87a_full.getEmb(jd2et(2341970.0));
check(t,-.2104343221,.9603642782,.0006462945,-.0170893883,-.0037428931,-.0000034648);
t=vsop87a_full.getEmb(jd2et(2305445.0));
check(t,-.2214911209,.9578778167,.0008589738,-.0170461690,-.0039348052,-.0000047385);
t=vsop87a_full.getEmb(jd2et(2268920.0));
check(t,-.2324953837,.9552252051,.0010711791,-.0170014432,-.0041262672,-.0000060273);
t=vsop87a_full.getEmb(jd2et(2232395.0));
check(t,-.2435434218,.9524355203,.0012855339,-.0169546235,-.0043172876,-.0000074100);
t=vsop87a_full.getEmb(jd2et(2195870.0));
check(t,-.2544800656,.9495642257,.0014936626,-.0169050854,-.0045073961,-.0000088462);
t=vsop87a_full.getEmb(jd2et(2159345.0));
check(t,-.2654471686,.9464953236,.0017047755,-.0168543115,-.0046981611,-.0000102989);
t=vsop87a_full.getEmb(jd2et(2122820.0));
check(t,-.2762837551,.9433889919,.0019144183,-.0168007538,-.0048864356,-.0000118518);

console.log("All Tests Pass = "+!failed);

</script></body></html>